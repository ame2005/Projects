
var WbGpt=(function(){'use strict';function sanitize(thing){return thing.trim().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/\s+/g,'-').replace(/[^\w\s,-]/gi,'').replace(/-+/g,'-');}
function processTargeting(thing){if(Array.isArray(thing)){return thing.map(function(item){return sanitize(item.toString());});}else{return sanitize(thing.toString());}}
var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var inherits=function(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;};var possibleConstructorReturn=function(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}
return call&&(typeof call==="object"||typeof call==="function")?call:self;};var Slot=function(){function Slot(gptSlot,adUnitPath,size,divId){classCallCheck(this,Slot);this.gptSlot=gptSlot;this.config={adUnitPath:adUnitPath,divId:divId};if(size){this.config.size=size;}}
createClass(Slot,[{key:'getGptSlot',value:function getGptSlot(){return this.gptSlot;}},{key:'getConfig',value:function getConfig(){return this.config;}},{key:'updateConfig',value:function updateConfig(key,value){this.config[key]=value;return this;}},{key:'addService',value:function addService(service){this.gptSlot.addService(service);return this;}},{key:'clearCategoryExclusions',value:function clearCategoryExclusions(){this.gptSlot.clearCategoryExclusions();return this;}},{key:'clearTargeting',value:function clearTargeting(){var optKey=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.gptSlot.clearTargeting(optKey);return this;}},{key:'defineSizeMapping',value:function defineSizeMapping(sizeMapping){this.gptSlot.defineSizeMapping(sizeMapping);this.config.sizeMapping=sizeMapping;return this;}},{key:'get',value:function get$$1(key){return this.gptSlot.get(key);}},{key:'getAdUnitPath',value:function getAdUnitPath(){return this.gptSlot.getAdUnitPath();}},{key:'getAttributeKeys',value:function getAttributeKeys(){return this.gptSlot.getAttributeKeys();}},{key:'getCategoryExclusions',value:function getCategoryExclusions(){return this.gptSlot.getCategoryExclusions();}},{key:'getResponseInformation',value:function getResponseInformation(){return this.gptSlot.getResponseInformation();}},{key:'getSlotElementId',value:function getSlotElementId(){return this.gptSlot.getSlotElementId();}},{key:'getTargeting',value:function getTargeting(key){return this.gptSlot.getTargeting(key);}},{key:'getTargetingKeys',value:function getTargetingKeys(){return this.gptSlot.getTargetingKeys();}},{key:'set',value:function set$$1(key,value){this.gptSlot.set(key,value);return this;}},{key:'setCategoryExclusion',value:function setCategoryExclusion(categoryExclusion){this.gptSlot.setCategoryExclusion(categoryExclusion);return this;}},{key:'setClickUrl',value:function setClickUrl(value){this.gptSlot.setClickUrl(value);return this;}},{key:'setCollapseEmptyDiv',value:function setCollapseEmptyDiv(collapse){var optCollapseBeforeAdFetch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.gptSlot.setCollapseEmptyDiv(collapse,optCollapseBeforeAdFetch);return this;}},{key:'setForceSafeFrame',value:function setForceSafeFrame(forceSafeFrame){this.gptSlot.setForceSafeFrame(forceSafeFrame);return this;}},{key:'setSafeFrameConfig',value:function setSafeFrameConfig(config){this.gptSlot.setSafeFrameConfig(config);return this;}},{key:'setTargeting',value:function setTargeting(key,value){var sanitizedKey=processTargeting(key);var sanitizedValue=processTargeting(value);this.gptSlot.setTargeting(sanitizedKey,sanitizedValue);return this;}}]);return Slot;}();var OutOfPageSlot=function(_Slot){inherits(OutOfPageSlot,_Slot);function OutOfPageSlot(){classCallCheck(this,OutOfPageSlot);return possibleConstructorReturn(this,(OutOfPageSlot.__proto__||Object.getPrototypeOf(OutOfPageSlot)).apply(this,arguments));}
return OutOfPageSlot;}(Slot);var slots=new Map();var googletag=void 0;var displayProvider=void 0;var slotIndex=1;var slotDivIdPrefix='wbgpt-';var servicesAreEnabled=false;var slotIdQueue=[];var promises=[];var WbGpt=function(){function WbGpt(){classCallCheck(this,WbGpt);}
createClass(WbGpt,[{key:'configure',value:function configure(newGoogletag){var newDisplayProvider=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;googletag=newGoogletag;displayProvider=newDisplayProvider||newGoogletag;return this;}},{key:'setGoogletag',value:function setGoogletag(newGoogletag){googletag=newGoogletag;return this;}},{key:'setDisplayProvider',value:function setDisplayProvider(newDisplayProvider){displayProvider=newDisplayProvider;return this;}},{key:'getSlotDivIdPrefix',value:function getSlotDivIdPrefix(){return slotDivIdPrefix;}},{key:'setSlotDivIdPrefix',value:function setSlotDivIdPrefix(newSlotDivIdPrefix){slotDivIdPrefix=newSlotDivIdPrefix;return this;}},{key:'createSlot',value:function createSlot(adUnitPath){var size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var id=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var divId=id||''+slotDivIdPrefix+slotIndex;slotIndex+=1;this.destroySlotById(divId);var slot=new Slot(googletag.defineSlot(adUnitPath,size,divId),adUnitPath,size,divId);slot.addService(googletag.pubads());slots.set(divId,slot);return slot;}},{key:'createOutOfPageSlot',value:function createOutOfPageSlot(adUnitPath){var id=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var divId=id||''+slotDivIdPrefix+slotIndex;slotIndex+=1;this.destroySlotById(divId);var slot=new OutOfPageSlot(googletag.defineOutOfPageSlot(adUnitPath,divId),adUnitPath,null,divId);slot.addService(googletag.pubads());slots.set(divId,slot);return slot;}},{key:'enableServices',value:function enableServices(){var _this=this;googletag.enableServices();servicesAreEnabled=true;if(slotIdQueue.length!==0){slotIdQueue.forEach(function(slotId){return _this.displaySlotById(slotId);});slotIdQueue=[];}
return this;}},{key:'getSlots',value:function getSlots(){return Array.from(slots.values());}},{key:'getSlotById',value:function getSlotById(id){return slots.get(id);}},{key:'setPromises',value:function setPromises(newPromises){promises=newPromises;return this;}},{key:'displaySlotById',value:function displaySlotById(id){if(servicesAreEnabled){Promise.all(promises).then(function(){displayProvider.display(id);}).catch(function(){displayProvider.display(id);});}else{slotIdQueue.push(id);}
return this;}},{key:'refreshAllSlots',value:function refreshAllSlots(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};displayProvider.pubads().refresh(null,options);return this;}},{key:'refreshSlotById',value:function refreshSlotById(id){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var slot=this.getSlotById(id);if(!slot){return this;}
displayProvider.pubads().refresh([slot.getGptSlot()],options);return this;}},{key:'destroyAllSlots',value:function destroyAllSlots(){googletag.destroySlots();slots.clear();return this;}},{key:'destroySlotById',value:function destroySlotById(id){var slot=this.getSlotById(id);if(!slot){return this;}
googletag.destroySlots([slot.getGptSlot()]);slots.delete(id);return this;}},{key:'setTargeting',value:function setTargeting(key,value){var sanitizedKey=processTargeting(key);var sanitizedValue=processTargeting(value);return googletag.pubads().setTargeting(sanitizedKey,sanitizedValue);}}]);return WbGpt;}();var instance=new WbGpt();function getInstance(){return instance;}
return getInstance;}());(function(exports){'use strict';var cookieName='wbppid';var cookieExpires=365;var expiry=new Date();var cookieDomain=void 0;function setCookieDomain(){cookieDomain=document.domain.match(/(.\.)?(\w+\.\w+)$/)[2];}
function setCookieName(newCookieName){cookieName=newCookieName;}
function setCookieExpires(newCookieExpires){cookieExpires=newCookieExpires;expiry=new Date();expiry.setDate(expiry.getDate()+cookieExpires);}
var uuidv4=function b(a){return a?(a^Math.random()*16>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b);};function fromStorage(){var m=void 0;var results=void 0;if(window.localStorage){results=window.localStorage[cookieName]||false;}
if(!results&&navigator.cookieEnabled){m=document.cookie.match(cookieName+'=([^;]*)');results=m&&(encodeURIComponent(m[1])||false);}
return results||false;}
function toStorage(newPpid){if(window.localStorage){window.localStorage[cookieName]=newPpid;}
if(navigator.cookieEnabled){document.cookie=[cookieName,'=',newPpid,'; expires=',expiry.toUTCString(),'; path=/; domain=',cookieDomain].join('');}
return newPpid;}
function set(newValue){var value=newValue.replace(/[\W_]/g,'');if(value.length<32||value.length>150){value='';}
return toStorage(value);}
function generate(){return set(uuidv4());}
function get(){return fromStorage()||generate();}
exports.get=get;exports.setCookieDomain=setCookieDomain;exports.setCookieExpires=setCookieExpires;exports.setCookieName=setCookieName;}((this.wbppid=this.wbppid||{})));(function(exports){'use strict';var cookieName='wbabt';var cookieExpires=7;var expiry=new Date();var cookieDomain=void 0;function randomAbt(){return Math.floor(Math.random()*100)+1;}
function toStorage(value){if(window.localStorage){window.localStorage[cookieName]=value;}
if(navigator.cookieEnabled){document.cookie=[cookieName,'=',value,'; expires=',expiry.toUTCString(),'; path=/; domain=',cookieDomain].join('');}
return value;}
function set(value){return toStorage(value);}
function generate(){return set(randomAbt());}
function fromStorage(){var m=void 0;var results=void 0;if(window.localStorage){results=window.localStorage[cookieName]||false;}
if(!results&&navigator.cookieEnabled){m=document.cookie.match(cookieName+'=([^;]*)');results=m&&(encodeURIComponent(m[1])||false);}
return results||'';}
function get(){return(fromStorage()||generate()).toString();}
function setCookieDomain(){cookieDomain=document.domain.match(/(.\.)?(\w+\.\w+)$/)[2];}
function setCookieName(newCookieName){cookieName=newCookieName;}
function setCookieExpires(newCookieExpires){cookieExpires=newCookieExpires;expiry=new Date();expiry.setDate(expiry.getDate()+cookieExpires);}
exports.get=get;exports.setCookieDomain=setCookieDomain;exports.setCookieExpires=setCookieExpires;exports.setCookieName=setCookieName;}((this.wbabt=this.wbabt||{})));(function(exports){'use strict';var tokenName='wbreferrer';function getReferrer(){var url=void 0;var referrer=void 0;var match=void 0;if(document.referrer){url=document.referrer;match=url.match(/^(?:https?:)?(?:\/\/)?([^/?]+)/i);if(match){referrer=match[1];}}
return referrer;}
function fromStorage(){var results=void 0;if(window.sessionStorage){results=window.sessionStorage[tokenName]||false;}
return results||'';}
function toStorage(value){if(window.sessionStorage){window.sessionStorage[tokenName]=value;}
return value;}
function get(){var hostSite=window.location.hostname;var referrer=getReferrer();if(referrer&&hostSite!==referrer){return toStorage(referrer);}
return fromStorage();}
exports.get=get;}((this.wbreferrer=this.wbreferrer||{})));if(enableAds){var amazonConfig=null;window['oxDone']=function oxDone(){window.OX.dfp_bidder.setOxTargeting();};function submitOpenXSlots(){if(window.openxBidderConfig.adMappings.length){window.oxhbjs.cmds.push(function(){window.oxhbjs.setConfig(Object.assign({},window.openxBidderConfig));window.oxRequestPromise=oxhbjs.getBids();window.openxBidderConfig.adMappings=[];});}}
function submitAmazonSlots(){if('apstag'in window){amazonConfig=!amazonConfig?initAmazonConfig():amazonConfig;apstag.fetchBids({slots:window.apstagSlots},setBidCallBack('amazon'));}}
function initAmazonConfig(){var config={pubID:'3064',adServer:'googletag',bidTimeout:WB_PAGE.wbgpt_timeout};apstag.init(config);return config;}
function setBidCallBack(vendorName){var callBack;switch(vendorName){case'openx':callBack=function(){};break;case'amazon':callBack=function(){apstag.setDisplayBids();console.log('Amazon bid callback fired and set targeting for designated ad call.');};break;default:callBack=function(){console.log('Callback fired with unknown bidding vendor.');};}
return callBack;}
try{wbkrux.init('kxct','JXlj-zpN','1.9');wbppid.setCookieDomain();wbabt.setCookieDomain();}
catch(err){}
googletag.cmd.push(function(){wbgpt.configure(googletag);});if(typeof String.prototype.normalize==='undefined'){String.prototype.normalize=function(){return String(this);}}}else{var googletag=googletag||{};googletag.cmd=googletag.cmd||[];googletag.pubads=googletag.pubads||[];googletag.pubads.refresh=function(){return true;}
googletag.cmd.push(function(){return true;});function submitOpenXSlots(){return true;}
function submitAmazonSlots(){return true;}}